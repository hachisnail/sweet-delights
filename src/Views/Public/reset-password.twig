{% extends "Layouts/public.twig" %}

{% block content %}
<div class="min-h-screen flex flex-col justify-center bg-[#9a6546] relative overflow-hidden snap-start">

  <div class="absolute bottom-0 left-0 w-full overflow-hidden leading-0 rotate-180">
    <svg class="relative block w-full h-[120px]" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" viewBox="0 0 1200 120">
      <path d="M985.66,83.29C906,104,823,116,739.29,114.88c-84-.91-168.07-14.29-251.06-27.64C404,74,320,61,236.53,63.33,153.36,65.64,69.18,83.31,0,104V0H1200V104C1128,91,1064,66,985.66,83.29Z" fill="#fee7b5"></path>
    </svg>
  </div>

  <div class="relative z-10 w-full max-w-md mx-auto bg-[#fee7b5] p-8 rounded-3xl shadow-2xl border border-[#f1d59d]">
    <div class="flex justify-center mb-5">
      <img src="/Assets/LogoWithName.png" alt="Sweet Delights Logo" class="h-50 w-auto">
    </div>

    <h1 class="text-3xl font-zen-antique text-[#835234] mb-6 text-center">
      Create a New Password
    </h1>

    {% if error == 'expired' %}
      <div class="mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-center">
        This password reset link has expired. Please <a href="/forgot-password" class="font-bold underline">request a new one</a>.
      </div>
    {% elseif error == 'invalid' %}
      <div class="mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-center">
        This password reset link is invalid.
      </div>
    {% elseif error == 'match' %}
      <div class="mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-center">
        Your new passwords do not match.
      </div>
    {% else %}
      <form action="/reset-password" method="POST" class="space-y-5">
        <input type="hidden" name="token" value="{{ token }}">
        
        <div>
          <label for="password" class="block text-sm font-medium text-[#7a4a2a] mb-1">New Password</label>
          <input 
            type="password" 
            id="password" 
            name="password" 
            required
            class="w-full px-3 py-2 border border-[#b06f52] rounded-lg bg-[#fff9ec] text-[#5b3621] focus:outline-none focus:ring-2 focus:ring-[#d3a175] focus:border-[#d3a175] transition"
          >
        </div>
        <div>
          <label for="confirm_password" class="block text-sm font-medium text-[#7a4a2a] mb-1">Confirm New Password</label>
          <input 
            type="password" 
            id="confirm_password" 
            name="confirm_password" 
            required
            class="w-full px-3 py-2 border border-[#b06f52] rounded-lg bg-[#fff9ec] text-[#5b3621] focus:outline-none focus:ring-2 focus:ring-[#d3a175] focus:border-[#d3a175] transition"
          >
        </div>

        <button type="submit" class="w-full py-3 bg-[#b06f52] hover:bg-[#a26046] text-white font-semibold rounded-xl shadow-md transition">
          Set New Password
        </button>
      </form>
    {% endif %}
  </div>
</div>
{% endblock %}